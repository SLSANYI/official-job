import{r as U,d as E,J as N,o as G,a as s,c as u,w as o,e as K,f as r,i as Z,n as i,F as m,p,u as n,K as A,L as Q,z as $,E as H,j as W,M as X,N as ee,O as le,P as ae,Q as re,S as oe,m as te,k as se,T as ue}from"./index-CcbdXH3D.js";import{b as M,c as _,d as D,f as L,m as b,h as j,i as de}from"./constants-B4IgHbVj.js";const ne={class:"dialog-footer"},pe={__name:"OfferFormDialog",props:{visible:Boolean},emits:["change-visible"],setup(T,{emit:F}){const Y=T,c=F,v=U(),f=U(!1),e=E({ageMax:null,ageMin:null,desc:`一、薪资架构
二、工作时间
三、作息时间
四、任职要求
五、福利待遇
六、公司介绍`,education:null,gender:null,interviewContacts:"",interviewPhone:"",interviewTime:"",jobName:"",kickback:null,quantity:null,salaryMax:null,salaryMin:null,welfare:[],workAddressCity:"",workAddressDetail:"",workAddressProvince:"",workAddressZone:"",workYears:null}),B=E({jobName:[{required:!0,message:"请输入职位名称",trigger:"blur"}],gender:[{required:!0,message:"请选择性别",trigger:"blur"}],ageMin:[{required:!0,message:"请输入最小年龄",trigger:"blur"}],ageMax:[{required:!0,message:"请输入最大年龄",trigger:"blur"}],quantity:[{required:!0,message:"请输入招聘人数",trigger:"blur"}],kickback:[{required:!0,message:"请输入佣金",trigger:"blur"}],workYears:[{required:!0,message:"请选择工作地址",trigger:"blur"}],workAddressCity:[{required:!0,message:"请选择工作地址",trigger:"change"}],workAddressDetail:[{required:!0,message:"请选择工作地址",trigger:"change"}],workAddressProvince:[{required:!0,message:"请选择工作地址",trigger:"change"}],workAddressZone:[{required:!0,message:"请选择工作地址",trigger:"change"}],education:[{required:!0,message:"请选择学历要求",trigger:"blur"}],salaryMin:[{required:!0,message:"请选择最小薪资待遇",trigger:"blur"}],salaryMax:[{required:!0,message:"请选择最大薪资待遇",trigger:"blur"}],interviewTime:[{required:!0,message:"请输入面试时间",trigger:"blur"}],interviewPhone:[{required:!0,message:"请输入面试电话",trigger:"blur"},{validator(V,a,d){/^\d{5,11}$/.test(a)===!1?d(new Error("请输入正确手机号格式")):d()},trigger:"blur"}],interviewContacts:[{required:!0,message:"请输入面试联系人",trigger:"blur"}],welfare:[{type:"array",required:!0,message:"请选择福利待遇",trigger:"change"}],desc:[{required:!0,message:"请填写职位描述",trigger:"blur"}]}),h=async()=>{v.value&&(console.log(v.value),await v.value.validate(async V=>{if(V){f.value=!0;try{await Q({ageMax:e.ageMax,ageMin:e.ageMin,desc:e.desc,education:e.education,gender:e.gender,interviewContacts:e.interviewContacts,interviewPhone:e.interviewPhone,interviewTime:e.interviewTime,jobName:e.jobName,kickback:e.kickback,quantity:e.quantity,salaryMax:e.salaryMax,salaryMin:e.salaryMin,welfare:e.welfare.join(","),workAddressCity:e.workAddressCity,workAddressDetail:e.workAddressDetail,workAddressProvince:e.workAddressProvince,workAddressZone:e.workAddressZone,workYears:e.workYears}),c("change-visible",!1),$.success("发布成功")}catch{}finally{f.value=!1}}}))},x=M(_[86]),C=N(()=>M(_[e.workAddressProvince])),q=N(()=>M(_[e.workAddressCity])),O=()=>{e.workAddressCity="",e.workAddressZone=""},S=()=>{e.workAddressZone=""};return G(()=>{e.gender=D[0].value,e.workAddressProvince=x[0].value,e.workAddressCity=C.value[0].value,e.workAddressZone=q.value[0].value,e.education=L[0].value,e.salaryMin=b[0].value,e.salaryMax=b[0].value,e.ageMin=18,e.ageMax=50,e.workYears=j[0].value}),(V,a)=>{const d=H,t=W,g=X,k=ee,w=le,y=ae,I=re,z=oe,J=te,P=se,R=ue;return s(),u(R,{"model-value":Y.visible,onClose:a[20]||(a[20]=()=>c("change-visible",!1)),title:"职位录入",width:"70%","close-on-press-escape":!1,"close-on-click-modal":!1},{footer:o(()=>[K("div",ne,[r(P,{onClick:a[19]||(a[19]=()=>c("change-visible",!1))},{default:o(()=>[Z("取消")]),_:1}),r(P,{type:"primary",loading:f.value,onClick:h},{default:o(()=>[Z(" 确认提交 ")]),_:1},8,["loading"])])]),default:o(()=>[r(J,{ref_key:"ruleFormRef",ref:v,model:e,rules:B,"label-width":"auto",class:"w-full px-5","status-icon":""},{default:o(()=>[r(t,{label:"职位名称",prop:"jobName"},{default:o(()=>[r(d,{modelValue:e.jobName,"onUpdate:modelValue":a[0]||(a[0]=l=>e.jobName=l),placeholder:"请填写"},null,8,["modelValue"])]),_:1}),r(t,{label:"性别",prop:"gender"},{default:o(()=>[r(k,{modelValue:e.gender,"onUpdate:modelValue":a[1]||(a[1]=l=>e.gender=l),placeholder:"请选择性别"},{default:o(()=>[(s(!0),i(m,null,p(n(D),l=>(s(),u(g,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),r(t,{label:"最小年龄",prop:"ageMin"},{default:o(()=>[r(w,{modelValue:e.ageMin,"onUpdate:modelValue":a[2]||(a[2]=l=>e.ageMin=l),min:18,max:100,placeholder:"请填写"},null,8,["modelValue"])]),_:1}),r(t,{label:"最大年龄",prop:"ageMax"},{default:o(()=>[r(w,{modelValue:e.ageMax,"onUpdate:modelValue":a[3]||(a[3]=l=>e.ageMax=l),min:18,max:100,placeholder:"请填写"},null,8,["modelValue"])]),_:1}),r(t,{label:"招聘人数",prop:"quantity"},{default:o(()=>[r(w,{min:1,modelValue:e.quantity,"onUpdate:modelValue":a[4]||(a[4]=l=>e.quantity=l),placeholder:"请填写"},null,8,["modelValue"])]),_:1}),r(t,{label:"佣金/人",prop:"kickback"},{default:o(()=>[r(w,{min:0,modelValue:e.kickback,"onUpdate:modelValue":a[5]||(a[5]=l=>e.kickback=l),placeholder:"请填写"},null,8,["modelValue"])]),_:1}),r(t,{label:"省",prop:"workAddressProvince"},{default:o(()=>[r(y,{modelValue:e.workAddressProvince,"onUpdate:modelValue":a[6]||(a[6]=l=>e.workAddressProvince=l),placeholder:"请选择省份",onChange:O,options:n(x)},null,8,["modelValue","options"])]),_:1}),e.workAddressProvince?(s(),u(t,{key:0,label:"市",prop:"workAddressCity"},{default:o(()=>[r(y,{modelValue:e.workAddressCity,"onUpdate:modelValue":a[7]||(a[7]=l=>e.workAddressCity=l),placeholder:"请选择市",onChange:S,options:C.value},null,8,["modelValue","options"])]),_:1})):A("",!0),e.workAddressCity?(s(),u(t,{key:1,label:"区",prop:"workAddressZone"},{default:o(()=>[r(y,{modelValue:e.workAddressZone,"onUpdate:modelValue":a[8]||(a[8]=l=>e.workAddressZone=l),placeholder:"请选择区",options:q.value},null,8,["modelValue","options"])]),_:1})):A("",!0),e.workAddressZone?(s(),u(t,{key:2,label:"详细地址",prop:"workAddressDetail"},{default:o(()=>[r(d,{modelValue:e.workAddressDetail,"onUpdate:modelValue":a[9]||(a[9]=l=>e.workAddressDetail=l),placeholder:"请填写详细地址"},null,8,["modelValue"])]),_:1})):A("",!0),r(t,{label:"工作经验",prop:"workYears"},{default:o(()=>[r(k,{modelValue:e.workYears,"onUpdate:modelValue":a[10]||(a[10]=l=>e.workYears=l),placeholder:"请选择工作经验"},{default:o(()=>[(s(!0),i(m,null,p(n(j),l=>(s(),u(g,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),r(t,{label:"学历要求",prop:"education"},{default:o(()=>[r(k,{modelValue:e.education,"onUpdate:modelValue":a[11]||(a[11]=l=>e.education=l),placeholder:"学历要求"},{default:o(()=>[(s(!0),i(m,null,p(n(L),l=>(s(),u(g,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),r(t,{label:"最小薪资待遇",prop:"salaryMin"},{default:o(()=>[r(k,{modelValue:e.salaryMin,"onUpdate:modelValue":a[12]||(a[12]=l=>e.salaryMin=l),placeholder:"薪资待遇"},{default:o(()=>[(s(!0),i(m,null,p(n(b),l=>(s(),u(g,{value:l.value,key:l.value,label:l.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),r(t,{label:"最大薪资待遇",prop:"salaryMax"},{default:o(()=>[r(k,{modelValue:e.salaryMax,"onUpdate:modelValue":a[13]||(a[13]=l=>e.salaryMax=l),placeholder:"薪资待遇"},{default:o(()=>[(s(!0),i(m,null,p(n(b),l=>(s(),u(g,{value:l.value,key:l.value,label:l.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),r(t,{label:"职位描述",prop:"desc"},{default:o(()=>[r(d,{modelValue:e.desc,"onUpdate:modelValue":a[14]||(a[14]=l=>e.desc=l),type:"textarea",rows:8},null,8,["modelValue"])]),_:1}),r(t,{label:"福利待遇",prop:"welfare"},{default:o(()=>[r(z,{modelValue:e.welfare,"onUpdate:modelValue":a[15]||(a[15]=l=>e.welfare=l)},{default:o(()=>[(s(!0),i(m,null,p(n(de),l=>(s(),u(I,{value:l.value,key:l.value,label:l.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),r(t,{label:"面试时间",prop:"interviewTime"},{default:o(()=>[r(d,{modelValue:e.interviewTime,"onUpdate:modelValue":a[16]||(a[16]=l=>e.interviewTime=l)},null,8,["modelValue"])]),_:1}),r(t,{label:"面试电话",prop:"interviewPhone"},{default:o(()=>[r(d,{modelValue:e.interviewPhone,"onUpdate:modelValue":a[17]||(a[17]=l=>e.interviewPhone=l)},null,8,["modelValue"])]),_:1}),r(t,{label:"面试联系人",prop:"interviewContacts"},{default:o(()=>[r(d,{modelValue:e.interviewContacts,"onUpdate:modelValue":a[18]||(a[18]=l=>e.interviewContacts=l)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["model-value"])}}};export{pe as _};
